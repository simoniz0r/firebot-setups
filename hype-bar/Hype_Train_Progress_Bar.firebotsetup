{"name":"Hype_Train_Progress_Bar","description":"A customizable hype train progress bar.\n\nPlease make sure you have enabled overlay instances in Settings -> Overlay.\nAfter enabling overlay instances, add a new overlay called \"Hype\".\n\nWhen adding as a browser source to OBS, the height should be 150, and the default width is 950.","version":1,"author":"syretia","components":{"commands":[],"counters":[],"currencies":[],"effectQueues":[{"name":"Hype","mode":"auto","sortTags":[],"active":true,"interval":2,"id":"7b346030-7833-11ef-8b44-99ee4581af55","length":0}],"events":[],"eventGroups":[{"id":"8f020bf0-e474-11ef-95c7-7773fe7880b7","name":"Hype Bar","active":true,"events":[{"name":"Hype Train Started","active":true,"cached":true,"sortTags":[],"eventId":"hype-train-start","sourceId":"twitch","effects":{"list":[{"id":"8f023300-e474-11ef-95c7-7773fe7880b7","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[hype_last_lvl]","rightSideValue":"$null"}]},"effectData":{"list":[{"id":"8f023301-e474-11ef-95c7-7773fe7880b7","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"8f023302-e474-11ef-95c7-7773fe7880b7"},"label":"do not trigger if already started by progress event"}],"otherwiseEffectData":{"list":[],"id":"8f023303-e474-11ef-95c7-7773fe7880b7"},"percentWeight":null,"effectLabel":"do not trigger if already started by progress"},{"id":"8f023304-e474-11ef-95c7-7773fe7880b7","type":"firebot:customvariable","active":true,"ttl":300,"name":"hypeData","variableData":"$evalJs[``return metadata.eventData``]","percentWeight":null,"effectLabel":"save hype data"},{"id":"8f023306-e474-11ef-95c7-7773fe7880b7","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"font":"Arial Black","font_large_size":"34px","font_large_color":"white","font_large_shadow":"2px -2px 10px black","font_large_top":"-35%","font_small_size":"18px","font_small_color":"white","font_small_shadow":"2px -2px 10px indigo","font_small_top":"-85%","font_med_size":"22px","font_med_color":"white","font_med_shadow":"2px -2px 10px black","font_med_top":"-15%","left_lvlup":"85%","left_timer":"5%","left_bits":"14%","left_subs":"85%","hype_percent":"$hypeTrainPercent","hype_lvl":"$hypeTrainLevel","hype_up_bits":"$commafy[$math[$$hypeData[\"goal\"] - $$hypeData[\"progress\"]]]","hype_up_subs":"$commafy[$ceil[$math[($$hypeData[\"goal\"] - $$hypeData[\"progress\"]) / 500]]]","hype_latest":"$customVariable[hype_latest]","hype_top_bits":"$customVariable[hype_top_bits_user]","hype_top_subs":"$customVariable[hype_top_subs_user]","hypebar_color":"indigo","hypebar_bg_color":"gray","hypebar_width":"950px","hypebar_scale":"120%","font_large_vert":"-34%","font_med_vert":"-41%","font_small_vert":"-65%","text_font":"Arial Black","text_size_base":"34px","text_height_bar":"-34%","text_height_side":"-34%","text_height_mid":"-34%","text_height_info":"-65%","text_color_bar":"white","text_color_info":"white","text_shadow_bar":"2px -2px 10px black","text_shadow_info":"2px -2px 10px indigo","text_height_latest":"80%","level":"$hypeTrainLevel","percent":"$hypeTrainPercent","type":"start"},"effectList":{"list":[],"id":"8f023307-e474-11ef-95c7-7773fe7880b7"},"presetListId":"6f1b2390-86ef-11ef-8489-171343d0594c","percentWeight":null,"effectLabel":"trigger hype train progress bar"}],"id":"8f02330e-e474-11ef-95c7-7773fe7880b7","queue":"7b346030-7833-11ef-8b44-99ee4581af55"},"filterData":{"mode":"exclusive","filters":[]},"id":"8f02330f-e474-11ef-95c7-7773fe7880b7"},{"name":"Hype Train Progress","active":true,"cached":true,"sortTags":[],"eventId":"hype-train-progress","sourceId":"twitch","effects":{"list":[{"id":"8f023310-e474-11ef-95c7-7773fe7880b7","type":"firebot:customvariable","active":true,"ttl":300,"name":"hypeData","variableData":"$evalJs[``return metadata.eventData``]","percentWeight":null,"effectLabel":"save hype data"},{"id":"8f023312-e474-11ef-95c7-7773fe7880b7","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"font":"Arial Black","font_large_size":"34px","font_large_color":"white","font_large_shadow":"2px -2px 10px black","font_large_top":"-35%","font_small_size":"18px","font_small_color":"white","font_small_shadow":"2px -2px 10px indigo","font_small_top":"-85%","font_med_size":"22px","font_med_color":"white","font_med_shadow":"2px -2px 10px black","font_med_top":"-15%","left_lvlup":"85%","left_timer":"5%","left_bits":"14%","left_subs":"85%","hype_percent":"$hypeTrainPercent","hype_lvl":"$hypeTrainLevel","hype_up_bits":"$commafy[$math[$$hypeData[\"goal\"] - $$hypeData[\"progress\"]]]","hype_up_subs":"$commafy[$ceil[$math[($$hypeData[\"goal\"] - $$hypeData[\"progress\"]) / 500]]]","hype_latest":"$customVariable[hype_latest]","hype_top_bits":"$customVariable[hype_top_bits_user]","hype_top_subs":"$customVariable[hype_top_subs_user]","hypebar_color":"indigo","hypebar_bg_color":"gray","hypebar_width":"950px","hypebar_scale":"120%","font_large_vert":"-34%","font_med_vert":"-41%","font_small_vert":"-65%","text_font":"Arial Black","text_size_base":"34px","text_height_bar":"-34%","text_height_side":"-34%","text_height_mid":"-34%","text_height_info":"-65%","text_color_bar":"white","text_color_info":"white","text_shadow_bar":"2px -2px 10px black","text_shadow_info":"2px -2px 10px indigo","text_height_latest":"80%","level":"$hypeTrainLevel","percent":"$hypeTrainPercent","type":"progress"},"effectList":{"list":[],"id":"8f023313-e474-11ef-95c7-7773fe7880b7"},"presetListId":"6f1b2390-86ef-11ef-8489-171343d0594c","percentWeight":null,"effectLabel":"trigger hype train progress bar"}],"id":"8f02331a-e474-11ef-95c7-7773fe7880b7","queue":"7b346030-7833-11ef-8b44-99ee4581af55"},"filterData":{"mode":"exclusive","filters":[]},"id":"8f02331b-e474-11ef-95c7-7773fe7880b7"},{"name":"Hype Train Ended","active":true,"cached":true,"sortTags":[],"eventId":"hype-train-end","sourceId":"twitch","effects":{"list":[{"id":"8f02331c-e474-11ef-95c7-7773fe7880b7","type":"firebot:customvariable","active":true,"ttl":15,"name":"hypeData","variableData":"$evalJs[``return metadata.eventData``]","percentWeight":null,"effectLabel":"save hype data"},{"id":"8f02331e-e474-11ef-95c7-7773fe7880b7","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"level":"$hypeTrainLevel","percent":"$$hype_last_percent","type":"end"},"effectList":{"list":[],"id":"8f02331f-e474-11ef-95c7-7773fe7880b7"},"presetListId":"6f1b2390-86ef-11ef-8489-171343d0594c","percentWeight":null,"effectLabel":"trigger hype progress bar end"}],"id":"8f023320-e474-11ef-95c7-7773fe7880b7","queue":"7b346030-7833-11ef-8b44-99ee4581af55"},"filterData":{"mode":"exclusive","filters":[]},"id":"8f023321-e474-11ef-95c7-7773fe7880b7"}]}],"hotkeys":[],"presetEffectLists":[{"name":"hype train progress bar","effects":{"list":[{"id":"aa00f7e0-9505-11ef-8faf-5dedf9ad4c03","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Hype Data: $$hypeData","percentWeight":null,"effectLabel":"log hype data"},{"id":"86610180-a802-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Calculating hype level up data ...","percentWeight":null,"effectLabel":"log current action"},{"id":"2d0243c0-8da8-11ef-8d3a-b53f1c9e7913","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#hype_type","rightSideValue":"end"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$ceil[$math[($$hypeData[\"goal\"] - $$hypeData[\"progress\"]) / 500]]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"58b231b0-8da8-11ef-8d3a-b53f1c9e7913","type":"firebot:customvariable","active":true,"ttl":10,"name":"hype_lvl_up","variableData":"$commafy[$ceil[$math[($$hypeData[\"goal\"] - $$hypeData[\"progress\"]) / 500]]] Sub or $commafy[$math[$$hypeData[\"goal\"] - $$hypeData[\"progress\"]]] Bits to Level Up","percentWeight":null,"effectLabel":"save hype level up info"}],"id":"2d0502e0-8da8-11ef-8d3a-b53f1c9e7913"},"label":"subs to lvl up is 1"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#hype_type","rightSideValue":"end"}]},"effectData":{"list":[{"id":"8863eb80-a804-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":10,"name":"hype_lvl_up","variableData":"$commafy[$ceil[$math[($$hypeData[\"goal\"] - $$hypeData[\"progress\"]) / 500]]] Subs or $commafy[$math[$$hypeData[\"goal\"] - $$hypeData[\"progress\"]]] Bits to Level Up","percentWeight":null,"effectLabel":"save hype level up info"}],"id":"731890a0-a804-11ef-87d2-f9919dccf2cb"},"label":"anything other than 1"}],"otherwiseEffectData":{"list":[{"id":"a1907830-a804-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"hype_lvl_up","variableData":"Thank you for the support! ‚ù§Ô∏è","percentWeight":null,"effectLabel":"save hype level up info"}],"id":"2d0466a0-8da8-11ef-8d3a-b53f1c9e7913"},"percentWeight":null,"otherwiseLabel":"hype train ended","effectLabel":"save level up info"},{"id":"c1a12860-a802-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Getting latest hype train contributors ...","percentWeight":null,"effectLabel":"log current action"},{"id":"bea81221-8941-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":10,"name":"hype_latest","percentWeight":null,"effectLabel":"save latest hype user","variableData":"$if[$$hypeData[\"lastContribution\", \"userDisplayName\"] === $null, ‚Äã ‚Äã,üì¢$$hypeData[\"lastContribution\", \"userDisplayName\"]: $if[$$hypeData[\"lastContribution\", \"type\"] === \"bits\",$$hypeData[\"lastContribution\", \"total\"],$math[$$hypeData[\"lastContribution\", \"total\"] / 500]]$if[$$hypeData[\"lastContribution\", \"type\"] === \"bits\",‚ú®,üéÅ]]"},{"id":"d2aa47a0-8dd5-11ef-a88e-c186d8d07111","type":"firebot:customvariable","active":false,"ttl":3,"name":"hype_latest","percentWeight":null,"effectLabel":"save latest hype user -- testing","variableData":"$if[$$hypeData[\"lastContribution\", \"userDisplayName\"] === $null, üì¢$randomViewer: $randomNumber[50,500]‚ú®, üì¢$$hypeData[\"lastContribution\", \"userDisplayName\"]: $$hypeData[\"lastContribution\", \"total\"]$if[$$hypeData[\"lastContribution\", \"type\"] === \"bits\",‚ú®,üéÅ]]"},{"id":"d45d25d0-a802-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Getting and formatting top bit contributor ...","percentWeight":null,"effectLabel":"log current action"},{"id":"bea81222-8941-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":3,"name":"hype_top_bits","percentWeight":null,"effectLabel":"save top hype bits","variableData":"$arrayElement[$arrayFilter[$$hypeData[\"topContributors\"], bits, type, false], 0]"},{"id":"bea81223-8941-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":10,"name":"hype_top_bits_user","percentWeight":null,"effectLabel":"format top bits info","variableData":"$if[$$hype_top_bits[\"userDisplayName\"] === $null, ‚Äã ‚Äã, ‚≠ê$$hype_top_bits[\"userDisplayName\"]: $commafy[$$hype_top_bits[\"total\"]]‚ú®]"},{"id":"302ba860-8dd6-11ef-a88e-c186d8d07111","type":"firebot:customvariable","active":false,"ttl":3,"name":"hype_top_bits_user","percentWeight":null,"effectLabel":"format top bits info -- testing","variableData":"$if[$$hype_top_bits[\"userDisplayName\"] === $null, ‚≠ê$randomViewer: $commafy[$randomNumber[1000,10000]]‚ú®, ‚≠ê$$hype_top_bits[\"userDisplayName\"]: $commafy[$$hype_top_bits[\"total\"]]‚ú®]"},{"id":"e4804ff0-a802-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Getting and formatting top sub contributor ...","percentWeight":null,"effectLabel":"log current action"},{"id":"bea81224-8941-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":3,"name":"hype_top_subs","percentWeight":null,"effectLabel":"save top hype subs","variableData":"$arrayElement[$arrayFilter[$$hypeData[\"topContributors\"], bits, type, true], 0]"},{"id":"bea81225-8941-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":10,"name":"hype_top_subs_user","percentWeight":null,"effectLabel":"format top subs info","variableData":"$if[$$hype_top_subs[\"userDisplayName\"] === $null, ‚Äã ‚Äã, ‚≠ê$$hype_top_subs[\"userDisplayName\"]: $commafy[$math[$$hype_top_subs[\"total\"] / 500]]üéÅ]"},{"id":"799bb4e0-8dd6-11ef-a88e-c186d8d07111","type":"firebot:customvariable","active":false,"ttl":3,"name":"hype_top_subs_user","percentWeight":null,"effectLabel":"format top subs info -- testing","variableData":"$if[$$hype_top_subs[\"userDisplayName\"] === $null, ‚≠ê$randomViewer: $randomNumber[50,200]üéÅ, ‚≠ê$$hype_top_subs[\"userDisplayName\"]: $commafy[$$hype_top_subs[\"total\"]]üéÅ]"},{"id":"efcb3380-a801-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"text_font","variableData":"Arial Black","percentWeight":null,"effectLabel":"set text font"},{"id":"fe3cb600-a801-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"text_size_base","variableData":"34px","percentWeight":null,"effectLabel":"set text size"},{"id":"05be8e30-a802-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"text_height_bar","variableData":"-34%","percentWeight":null,"effectLabel":"set bar text height"},{"id":"083385d0-a802-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"text_height_info","variableData":"-65%","percentWeight":null,"effectLabel":"set info text height"},{"id":"09886770-a802-11ef-87d2-f9919dccf2cb","type":"firebot:customvariable","active":true,"ttl":3,"name":"text_height_latest","variableData":"80%","percentWeight":null,"effectLabel":"set latest text height"},{"id":"f5f0ba90-a802-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Checking hype event type ...","percentWeight":null,"effectLabel":"log current action"},{"id":"4b003f20-8949-11ef-b854-9d92a72fae73","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[hype_last_lvl]","rightSideValue":"$null"}]},"effectData":{"list":[{"id":"458e41e0-894e-11ef-b854-9d92a72fae73","type":"firebot:customvariable","active":true,"ttl":5,"name":"countDownDate","variableData":"$if[$$hypeData[\"expiryDate\"] === $null, $date[YYYY-MM-DDTHH:mm:ss, 5, minutes], $$hypeData[\"expiryDate\"]]","percentWeight":null,"effectLabel":"set time for countdown"},{"id":"ac6e4360-8949-11ef-b854-9d92a72fae73","type":"firebot:clear-effects","active":true,"queueId":"all","overlay":true,"percentWeight":null,"overlayInstance":"Hype","effectLabel":"clear just in case"},{"id":"b36c93b0-8949-11ef-b854-9d92a72fae73","type":"firebot:delay","active":true,"delay":"1","percentWeight":null,"effectLabel":"delay for clear"},{"id":"b99cbe90-8949-11ef-b854-9d92a72fae73","type":"firebot:html","active":true,"enterAnimation":"fadeInDownBig","exitAnimation":"fadeOut","inbetweenAnimation":"none","html":"<style>\n  .maindiv {\n    position: absolute !important;\n    height: 110px !important;\n    margin: 0px !important;\n    z-index: 0 !important;\n  }\n  \n  .contentdiv {\n    position: absolute !important;\n    margin: 0px !important;\n    left: 1px !important;\n    top: 35% !important;\n    width: max-content !important;\n    height: max-content !important;\n  }\n  \n  .hyped { \n    background-color: $#hypebar_color !important;\n    padding: 5px 0px 5px 0px !important;\n    border-radius: 5px !important;\n    font-size: calc($$text_size_base + 8px) !important;\n    font-family: \"$$text_font\" !important;\n  }\n  \n  .hypeContainer { \n    background-color: $#hypebar_bg_color !important;\n    width: calc($#hypebar_width - 2px) !important;\n    border-radius: 5px !important;\n  }\n  \n  .lvlup, .countdown, .percent {\n    color: $#text_color_bar !important;\n    text-shadow: $#text_shadow_bar !important;\n  }\n \n  .topbits, .topsubs, .lastcon {\n    font-size: calc($$text_size_base * .5) !important;\n    color: $#text_color_info !important;\n    text-shadow: $#text_shadow_info !important;\n  }\n\n  .percent, .lastcon {\n    left: 50% !important;\n    text-align: center !important;\n    transform: translate(-50%) !important;\n  }\n\n  .percent {\n    font-size: calc($$text_size_base - 8px) !important;\n    line-height: $$text_size_base !important;\n    top: calc($$text_height_bar - 1%) !important;\n  }\n\n  .countdown {\n    right: calc(20px * calc($replace[$#hypebar_width, \"px\", \"\"] / 1500)) !important;\n    font-size: $$text_size_base !important;\n    top: $$text_height_bar !important;\n  }\n\n  .lvlup {\n    left: calc(20px * calc($replace[$#hypebar_width, \"px\", \"\"] / 1500)) !important;\n    font-size: calc($$text_size_base - 16px) !important;\n    line-height: $$text_size_base !important;\n    top: calc($$text_height_bar + 33%) !important;\n  }\n\n  .lastcon {\n    top: $$text_height_latest !important;\n  }\n  \n  .topbits {\n    right: calc(5px * calc($replace[$#hypebar_width, \"px\", \"\"] / 1500)) !important;\n    top: $$text_height_info !important;\n  }\n  \n  .topsubs {\n    left: calc(5px * calc($replace[$#hypebar_width, \"px\", \"\"] / 1500)) !important;\n    top: $$text_height_info !important;\n  }\n  \n  .percent, .lvlup, .topbits, .topsubs, .lastcon, .countdown {\n    white-space: nowrap !important;\n    text-wrap: nowrap !important;\n    position: absolute !important;\n    padding: 0% !important;\n    font-family: \"$$text_font\" !important;\n    font-weight: 600 !important;\n    font-style: normal !important;\n    z-index: 100 !important;\n  }\n</style>\n  \n<script>\n  function moveBar(prev, curr, level, levelup, last, topb, tops) {\n    var hypel = document.getElementById(\"hyped\");\n    var percentl = document.getElementById(\"percent\");\n    var lvlup = document.getElementById(\"lvlup\");\n    var lastcon = document.getElementById(\"lastcon\");\n    var topbits = document.getElementById(\"topbits\");\n    var topsubs = document.getElementById(\"topsubs\");\n    var width = prev;\n    lvlup.innerHTML = levelup;\n    lastcon.innerHTML = last;\n    topbits.innerHTML = topb;\n    topsubs.innerHTML = tops;\n    var id = setInterval(frame, 30);\n    function frame() {\n      if (width >= curr) {\n        hypel.style.width = curr + '%'; \n        percentl.innerHTML = 'Level ' + level + '</br>' + curr + '%';\n        clearInterval(id);\n      } else {\n        width++; \n        hypel.style.width = width + '%'; \n        percentl.innerHTML = 'Level ' + level + '</br>' + width + '%';\n      }\n    }\n    \n  }\n  \n  moveBar(0, $#hype_percent, \"$#hype_lvl\", \"$$hype_lvl_up\", \"$$hype_latest\", \"$$hype_top_bits_user\", \"$$hype_top_subs_user\");\n  \n  // Set the date to count down to\n  var countDownDate = new Date(\"$$countDownDate\").getTime();\n  //var countDownDate = $$countDownDate;\n  \n  // get countdown element\n  var countdown = document.getElementById(\"countdown\");\n  \n  // Update the count down every 1 second\n  var timerx = setInterval(function() {\n  \n    // Get today's date and time\n    var now = new Date().getTime();\n      \n    // Find the distance between now and the count down date\n    var distance = countDownDate - now;\n      \n    // Time calculations minutes and seconds\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n  \n    var seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      \n    // Output the result\n    countdown.innerHTML = minutes + \":\" + seconds;\n      \n    // If the count down is over, end and write 0s \n    if (distance < 0) {\n      clearInterval(timerx);\n      countdown.innerHTML = \"-\";\n    }\n  }, 1000);\n</script>\n\n<div id=\"maindiv\" class=\"maindiv\">\n  <div id=\"contentdiv\" class=\"contentdiv\">\n    <div class=\"hypeContainer\"> \n      <div id=\"hyped\" class=\"hyped\" style=\"width:1%;\">‚Äã</div>\n    </div>\n    <p id=\"percent\" class=\"percent\">‚Äã ‚Äã</p>\n    <p id=\"lvlup\" class=\"lvlup\">‚Äã ‚Äã</p>\n    <p id=\"countdown\" class=\"countdown\"></p>\n    <p id=\"lastcon\" class=\"lastcon\">‚Äã ‚Äã</p>\n    <p id=\"topbits\" class=\"topbits\">‚Äã ‚Äã</p>\n    <p id=\"topsubs\" class=\"topsubs\">‚Äã ‚Äã</p>\n\n  </div>\n</div>\n","length":"9999","percentWeight":null,"overlayInstance":"Hype","enterDuration":"300ms","removal":"#maindiv","effectLabel":"start hype bar"},{"id":"13358d30-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_lvl","variableData":"$#hype_lvl","percentWeight":null,"effectLabel":"save last level"},{"id":"31a0b8d0-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_percent","variableData":"$#hype_percent","percentWeight":null,"effectLabel":"save last percent"},{"id":"0f3e8ae0-a803-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Started hype train progress bar ...","percentWeight":null,"effectLabel":"log current action"}],"id":"79c7f460-8949-11ef-b854-9d92a72fae73"},"label":"start hype bar"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#hype_lvl","rightSideValue":"$customVariable[hype_last_lvl]"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#hype_type","rightSideValue":"progress"}]},"effectData":{"list":[{"id":"d1147830-bdb3-11ef-92fd-1d2b5390ede1","type":"firebot:customvariable","active":true,"ttl":5,"name":"countDownDate","variableData":"$if[$$hypeData[\"expiryDate\"] === $null, $date[YYYY-MM-DDTHH:mm:ss, 5, minutes], $$hypeData[\"expiryDate\"]]","percentWeight":null,"effectLabel":"set time for countdown"},{"id":"d8ecfbe0-bdb3-11ef-92fd-1d2b5390ede1","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  clearInterval(timerx);\n  \n  // Set the date to count down to\n  var countDownDate = new Date(\"$$countDownDate\").getTime();\n  // var countDownDate = $$countDownDate;\n  \n  // get countdown element\n  var countdown = document.getElementById(\"countdown\");\n  \n  // Update the count down every 1 second\n  var timerx = setInterval(function() {\n  \n    // Get today's date and time\n    var now = new Date().getTime();\n      \n    // Find the distance between now and the count down date\n    var distance = countDownDate - now;\n      \n    // Time calculations minutes and seconds\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n  \n    var seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      \n    // Output the result\n    countdown.innerHTML = minutes + \":\" + seconds;\n      \n    // If the count down is over, end and write message\n    if (distance < 0) {\n      clearInterval(timerx);\n      countdown.innerHTML = \"-\";\n    }\n  }, 1000);\n</script>","length":"1","percentWeight":null,"overlayInstance":"Hype","effectLabel":"reset timer"},{"id":"dee91e70-bdb3-11ef-92fd-1d2b5390ede1","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Reset hype train timer due to progress ...","percentWeight":null,"effectLabel":"log current action"},{"id":"e6b80530-bdb3-11ef-92fd-1d2b5390ede1","type":"firebot:delay","active":true,"delay":"1","percentWeight":null,"effectLabel":"delay for reset"},{"id":"116e5090-86f0-11ef-bcb7-e9fbe325b40c","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  moveBar($customVariable[hype_last_percent], $#hype_percent, \"$#hype_lvl\", \"$$hype_lvl_up\", \"$$hype_latest\", \"$$hype_top_bits_user\", \"$$hype_top_subs_user\");  \n</script>","length":"6","percentWeight":null,"overlayInstance":"Hype","effectLabel":"progress current level"},{"id":"f831bea0-bdb3-11ef-92fd-1d2b5390ede1","type":"firebot:delay","active":true,"delay":"1","percentWeight":null,"effectLabel":"delay for progress bar"},{"id":"180ae300-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_lvl","variableData":"$#hype_lvl","percentWeight":null,"effectLabel":"save last level"},{"id":"34653000-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_percent","variableData":"$#hype_percent","percentWeight":null,"effectLabel":"save last percent"},{"id":"32e4d300-a803-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Progressed hype train bar without leveling up ...","percentWeight":null,"effectLabel":"log current action"}],"id":"e4511700-86ef-11ef-bcb7-e9fbe325b40c"},"label":"progress -- progress current level"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#hype_type","rightSideValue":"progress"}]},"effectData":{"list":[{"id":"7f997e90-8da9-11ef-8d3a-b53f1c9e7913","type":"firebot:customvariable","active":true,"ttl":5,"name":"countDownDate","variableData":"$if[$$hypeData[\"expiryDate\"] === $null, $date[YYYY-MM-DDTHH:mm:ss, 5, minutes], $$hypeData[\"expiryDate\"]]","percentWeight":null,"effectLabel":"set time for countdown"},{"id":"7f997e91-8da9-11ef-8d3a-b53f1c9e7913","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  clearInterval(timerx);\n  \n  // Set the date to count down to\n  var countDownDate = new Date(\"$$countDownDate\").getTime();\n  // var countDownDate = $$countDownDate;\n  \n  // get countdown element\n  var countdown = document.getElementById(\"countdown\");\n  \n  // Update the count down every 1 second\n  var timerx = setInterval(function() {\n  \n    // Get today's date and time\n    var now = new Date().getTime();\n      \n    // Find the distance between now and the count down date\n    var distance = countDownDate - now;\n      \n    // Time calculations minutes and seconds\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n  \n    var seconds = seconds < 10 ? \"0\" + seconds : seconds;\n      \n    // Output the result\n    countdown.innerHTML = minutes + \":\" + seconds;\n      \n    // If the count down is over, end and write message\n    if (distance < 0) {\n      clearInterval(timerx);\n      countdown.innerHTML = \"-\";\n    }\n  }, 1000);\n</script>","length":"1","percentWeight":null,"overlayInstance":"Hype","effectLabel":"reset timer"},{"id":"60d17c30-ad82-11ef-b279-370070245310","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Reset hype train timer due to level up ...","percentWeight":null,"effectLabel":"log current action"},{"id":"d566c4d0-8daf-11ef-bb6c-3f37a63531e6","type":"firebot:delay","active":true,"delay":"1","percentWeight":null,"effectLabel":"delay for reset"},{"id":"85ac9040-ad81-11ef-b279-370070245310","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  moveBar($customVariable[hype_last_percent], 100, $customVariable[hype_last_lvl], \"0 Subs or 0 Bits to Level Up\", \"$$hype_latest\", \"$$hype_top_bits_user\", \"$$hype_top_subs_user\");\n</script>","length":"5","percentWeight":null,"overlayInstance":"Hype","effectLabel":"progress level to 100"},{"id":"6373ec70-ad82-11ef-b279-370070245310","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Progressed hype train bar to 100 due to level up ...","percentWeight":null,"effectLabel":"log current action"},{"id":"c3c79c80-ad81-11ef-b279-370070245310","type":"firebot:delay","active":true,"delay":"5","percentWeight":null,"effectLabel":"delay for progress bar"},{"id":"8477e0d0-ad81-11ef-b279-370070245310","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  moveBar(0, $#hype_percent, \"$#hype_lvl\", \"$$hype_lvl_up\", \"$$hype_latest\", \"$$hype_top_bits_user\", \"$$hype_top_subs_user\");\n</script>","length":"5","percentWeight":null,"overlayInstance":"Hype","effectLabel":"progress after level up"},{"id":"486399f0-a803-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Progressed hype train bar after level up ...","percentWeight":null,"effectLabel":"log current action"},{"id":"1b2ce380-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_lvl","variableData":"$#hype_lvl","percentWeight":null,"effectLabel":"save last level"},{"id":"38312c20-8dad-11ef-bb6c-3f37a63531e6","type":"firebot:customvariable","active":true,"ttl":0,"name":"hype_last_percent","variableData":"$#hype_percent","percentWeight":null,"effectLabel":"save last percent"},{"id":"b3063690-ad81-11ef-b279-370070245310","type":"firebot:delay","active":true,"delay":"3","percentWeight":null,"effectLabel":"delay for progress bar"}],"id":"71e99e60-8da9-11ef-8d3a-b53f1c9e7913"},"label":"progress -- reset timer and level up"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#hype_type","rightSideValue":"start"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#hype_type","rightSideValue":"progress"}]},"effectData":{"list":[{"id":"b86263e0-8da9-11ef-8d3a-b53f1c9e7913","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<script>\n  moveBar($#hype_percent, $#hype_percent, \"$#hype_lvl\", \"$$hype_lvl_up\", \"$$hype_latest\", \"$$hype_top_bits_user\", \"$$hype_top_subs_user\");\n  clearInterval(timerx);\n  var countdown = document.getElementById(\"countdown\");\n  countdown.innerHTML = \"Hype Train Ended\";  \n</script>","length":"6","percentWeight":null,"overlayInstance":"Hype","effectLabel":"remove level up info"},{"id":"ee14e170-8da9-11ef-8d3a-b53f1c9e7913","type":"firebot:delay","active":true,"delay":"45","percentWeight":null,"effectLabel":"delay to show info"},{"id":"1fbb9ac0-8daa-11ef-8d3a-b53f1c9e7913","type":"firebot:clear-effects","active":true,"queueId":"all","overlay":true,"percentWeight":null,"overlayInstance":"Hype","effectLabel":"clear hype overlay"},{"id":"1b41b5f2-8dab-11ef-8d3a-b53f1c9e7913","type":"firebot:customvariable","active":true,"ttl":1,"name":"hype_last_lvl","variableData":"$null","percentWeight":null,"effectLabel":"reset last level"},{"id":"1b41b5f3-8dab-11ef-8d3a-b53f1c9e7913","type":"firebot:customvariable","active":true,"ttl":1,"name":"hype_last_percent","variableData":"$null","percentWeight":null,"effectLabel":"reset last percent"},{"id":"53df5c10-a803-11ef-87d2-f9919dccf2cb","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"Hype train ended ...","percentWeight":null,"effectLabel":"log current action"}],"id":"9b0ec2c0-8da9-11ef-8d3a-b53f1c9e7913"},"label":"end"}],"otherwiseEffectData":{"list":[],"id":"e4502ca0-86ef-11ef-bcb7-e9fbe325b40c"},"percentWeight":null,"otherwiseLabel":"","effectLabel":"check if start, progress, or end"}],"id":"fdc76270-86e5-11ef-bcb7-e9fbe325b40c"},"args":[{"name":"hypebar_color"},{"name":"hypebar_bg_color"},{"name":"hypebar_width"},{"name":"text_color_bar"},{"name":"text_color_info"},{"name":"text_shadow_bar"},{"name":"text_shadow_info"},{"name":"hype_percent"},{"name":"hype_lvl"},{"name":"hype_type"}],"sortTags":["d4032835-82c1-4c31-a9b4-125da71e965a","490e2a86-30fa-4b43-8cbc-f709d36eb805"],"id":"46b1a7b0-86e7-11ef-8489-171343d0594c"},{"name":"hype train progress bar config","effects":{"list":[{"id":"82210610-8da4-11ef-8d3a-b53f1c9e7913","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"hypebar_color":"midnightblue","hypebar_bg_color":"gray","hypebar_width":"950px","text_font":"Arial Black","text_size_base":"34px","text_height_bar":"-34%","text_color_bar":"white","text_color_info":"white","hype_percent":"$#percent","hype_lvl":"$#level","text_height_info":"-65%","text_height_latest":"80%","text_shadow_bar":"2px -2px 10px black","text_shadow_info":"2px -2px 10px midnightblue","hype_type":"$#type"},"effectList":{"list":[],"id":"822301e0-8da4-11ef-8d3a-b53f1c9e7913"},"presetListId":"46b1a7b0-86e7-11ef-8489-171343d0594c","percentWeight":null,"effectLabel":"configure hype train bar here"}],"id":"6f1b4aa5-86ef-11ef-bcb7-e9fbe325b40c"},"args":[{"name":"level"},{"name":"percent"},{"name":"type"}],"sortTags":["490e2a86-30fa-4b43-8cbc-f709d36eb805","d4032835-82c1-4c31-a9b4-125da71e965a"],"id":"6f1b2390-86ef-11ef-8489-171343d0594c"},{"name":"hype train progress bar refresh","effects":{"list":[{"id":"fc2b8130-c8da-11ef-beb0-d55bb658e096","type":"firebot:customvariable","active":true,"ttl":1,"name":"hype_last_lvl","percentWeight":null,"effectLabel":"reset last level var"},{"id":"05f351c0-c8db-11ef-beb0-d55bb658e096","type":"firebot:customvariable","active":true,"ttl":1,"name":"hype_last_percent","percentWeight":null,"effectLabel":"reset last percent var"},{"id":"6306c060-c8d9-11ef-beb0-d55bb658e096","type":"firebot:clear-effects","active":true,"queueId":"all","overlay":true,"overlayInstance":"Hype","percentWeight":null,"effectLabel":"refresh hype overlay"},{"id":"8c7faa10-c8d9-11ef-beb0-d55bb658e096","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[hypeData]","rightSideValue":"$null"}]},"effectData":{"list":[{"id":"a63fbcd0-c8dc-11ef-beb0-d55bb658e096","type":"firebot:delay","active":true,"delay":"1","percentWeight":null,"effectLabel":"delay for refresh"},{"id":"a4260bf0-c8d9-11ef-beb0-d55bb658e096","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"level":"$customVariable[hypeData, level]","percent":"$round[$math[$math[$customVariable[hypeData, progress] / $customVariable[hypeData, goal]] * 100]]","type":"start"},"effectList":{"list":[],"id":"a4282ed0-c8d9-11ef-beb0-d55bb658e096"},"presetListId":"6f1b2390-86ef-11ef-8489-171343d0594c","percentWeight":null,"effectLabel":"restart hype bar"},{"id":"d1405f50-c8d9-11ef-beb0-d55bb658e096","type":"firebot:activity-feed-alert","active":true,"icon":"fas fa-sync-alt","message":"Hype overlay reloaded","percentWeight":null}],"id":"8c829040-c8d9-11ef-beb0-d55bb658e096"},"label":"if hypeData var exists"}],"otherwiseEffectData":{"list":[{"id":"125f83d0-c8da-11ef-beb0-d55bb658e096","type":"firebot:activity-feed-alert","active":true,"icon":"fad fa-broom","message":"Hype overlay cleared","percentWeight":null}],"id":"8c81f400-c8d9-11ef-beb0-d55bb658e096"},"otherwiseLabel":"hypeData doesn't exits, just refresh","percentWeight":null,"effectLabel":"restart if hypeData var exists"}],"id":"4cf1ace0-c8d9-11ef-beb0-d55bb658e096","queue":"7b346030-7833-11ef-8b44-99ee4581af55"},"args":[],"sortTags":[],"id":"50831b90-c8da-11ef-8f55-9b3335d1f831"}],"timers":[],"variableMacros":[],"viewerRoles":[],"viewerRankLadders":[],"quickActions":[{"id":"0809e040-c8dc-11ef-8f55-9b3335d1f831","name":"Refresh Hype Bar","type":"custom","icon":"fas fa-sync-alt","presetListId":"50831b90-c8da-11ef-8f55-9b3335d1f831","presetArgValues":{},"promptForArgs":false,"effectList":null}]},"requireCurrency":false,"importQuestions":[]}